{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/macos-windows-proxmox-update/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://zanechua.com"}},"posts":{"html":"<p>So after using this setup for a good year or so, I have some updates in terms of both hardware and solutions to some of the problems that I was facing with the initial build.</p>\n<h2 id=\"Changes\" style=\"position:relative;\">Changes<a href=\"#Changes\" aria-label=\"Changes permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"Original-hardware\" style=\"position:relative;\">Original hardware<a href=\"#Original-hardware\" aria-label=\"Original hardware permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ul>\n<li>KEB: Tecware Phantom Elite + Gateron Greens</li>\n<li>VID: GoPro Hero 5 Black</li>\n<li>AUD: 3 x Behringer UMC202HD</li>\n<li>MIC: Audio-Technica AT2035</li>\n<li>ACC: EyeGrab GoPro Hero 5 Case</li>\n<li>ACC: Orico A3H7 7-Port USB 3.0 Hub</li>\n</ul>\n<h3 id=\"Current-hardware\" style=\"position:relative;\">Current hardware<a href=\"#Current-hardware\" aria-label=\"Current hardware permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ul>\n<li>KEB: Tecware Phantom Elite + Kailh BOX Whites</li>\n<li>VID: Sony A6300</li>\n<li>AUD: 2 x Behringer UMC202HD</li>\n<li>AUD: 1 x MOTU M2</li>\n<li>MIC: Rode PodMic</li>\n<li>ACC: UURig C-A6400</li>\n<li>ACC: Acasis HS-70MG 7-Port USB 3.0 Hub</li>\n<li>BIO: HP IR Camera for Windows Hello</li>\n<li>NET: 2 x ASUS USB-BT400 (Bluetooth 4.0)</li>\n</ul>\n<h3 id=\"Audio-Output\" style=\"position:relative;\">Audio Output<a href=\"#Audio-Output\" aria-label=\"Audio Output permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In the previous post, I mentioned that there was audio stuttering issues caused by high cpu usage. However I was mistaken about that and based on research, even users on legitimate MacOS devices face it too.</p>\n<p>When the audio drops out you'll get sound assertion errors in the kernel logs such as:</p>\n<div class=\"gatsby-code-title gatsby-remark-code-title\">terminal</div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"67705971189164950000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`HALS_IOA1Engine::EndWriting: got an error from the kernel trap, Error: 0xE00002D7`, `67705971189164950000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">HALS_IOA1Engine::EndWriting: got an error from the kernel trap, Error: 0xE00002D7</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Unfortunately I was not able to find a fix, and I took a chance with a new audio interface which was the Motu M2 and that resolved the issue of having to live with audio stuttering or cutting out issues.</p>\n<h3 id=\"Audio-Input\" style=\"position:relative;\">Audio Input<a href=\"#Audio-Input\" aria-label=\"Audio Input permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I replaced the Audio Technica AT-2035 with a Rode PodMic as the place I am sitting in is quite noisy with server fans running in the background.</p>\n<p>The AT-2035 is a condenser mic and basically captures everything whereas the PodMic is a dynamic microphone. I'm not particularly an expert in microphones but this does seem to have helped with regards to the audio quality.</p>\n<h3 id=\"WebcamVideo\" style=\"position:relative;\">Webcam/Video<a href=\"#WebcamVideo\" aria-label=\"WebcamVideo permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In the previous post, I mentioned that the GoPro would suddenly change resolution and I suspected it was the battery. That was not the case either and I could not figure out a fix for the resolution changing on it's own. I suspect that the GoPro may just be faulty and the warranty period is long over so there's not much of a point to send it for RMA.</p>\n<p>I decided to splurge a little and went for a second-hand Sony A6300. The troubles faced with this camera is that if it overheats (especially if you set the output to 4k), it'll turn off. The UURig cage has helped serve as a heatsink and as long as I provide adequate airflow in the rear of the camera + lift the screen off the camera body, it can last more than 2 hours.</p>\n<p>There's an issue with the A6300 is that it needs to be power-cycled for god knows what reason. It'll just refuse to start unless you pull the battery. But in this case it's a USB powered dummy battery. I replaced the USB Hub from the Orico to the Acasis as that has buttons that allow you to switch on/off the individual ports. Much easier than having to reach behind to replug the camera everytime as the hub is mounted to the back of my monitor arm.</p>\n<h3 id=\"Bluetooth\" style=\"position:relative;\">Bluetooth<a href=\"#Bluetooth\" aria-label=\"Bluetooth permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The ASUS BT-400 works in MacOS. Nothing much to say here.</p>\n<p>As for Windows, the Orico BTA-508 (RTL8761B chipset) would work when I first plugged it in but on subsequent reboots, it would not work and you would have to unplug/replug for it to start working.</p>\n<p>I tried to get it to work properly but I think it's just my hardware configuration that has a reset issue and I can't be bothered to figure out how to fix it.</p>\n<p>tl;dr Just use the ASUS BT-400 for both MacOS and Windows</p>\n<h3 id=\"Biometrics\" style=\"position:relative;\">Biometrics<a href=\"#Biometrics\" aria-label=\"Biometrics permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Decided to introduce Windows Hello into my Windows VM and initially I tried it with a Lenovo 500 FHD camera and even though it worked, I found that it was really inconsistent and took much longer to unlock. What's the point of Windows Hello if it takes longer than you take to type your password.</p>\n<p>Instead I went with this <a href=\"https://item.taobao.com/item.htm?spm=a1z09.2.0.0.48822e8dvwHcLs&#x26;id=636857842321\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Custom Made Windows Hello Camera</a> from Taobao.</p>\n<p>It's a funky little device which is branded HP but is made by Realtek.</p>\n<p>You'll need to install HP drivers along with it. It took me awhile to locate the correct drivers but you can use the drivers provided <a href=\"https://www.station-drivers.com/index.php/en-us/component/remository/Drivers/Realtek/Camera/Realtek-Camera-Drivers-Version-10.0.22000.20274/lang,en-us/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a></p>\n<h2 id=\"Conclusion\" style=\"position:relative;\">Conclusion<a href=\"#Conclusion\" aria-label=\"Conclusion permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>No other updates so far. The MacOS VM updates to Big Sur just fine but I got myself a M1 MacBook so I probably might not use it as often though it was definitely a very fun experiment.</p>\n<p>I might write up a short review/comparison for the two Biometric cameras as there doesn't seem to be much information on them outside of Taobao.</p>\n<h2 id=\"Change-Log\" style=\"position:relative;\">Change Log<a href=\"#Change-Log\" aria-label=\"Change Log permalink\" class=\"remark-header-anchor after\"><svg id=\"header-anchor-icon\" aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ul>\n<li><code class=\"language-text\">2023-07-25</code> - Update url for Realtek camera driver to version 10.0.22000.20274</li>\n</ul>","headings":[],"excerpt":"So after using this setup for a good year or so, I have some updates in terms of both hardware and solutions to some of the problems that I was facing with the initial build. Changes Original hardware KEB: Tecware Phantom Elite + Gateron Greens VID…","timeToRead":3,"frontmatter":{"date":"31 August, 2021","updatedAt":null,"slug":"macos-windows-proxmox-update","title":"MacOS and Windows running on Proxmox Update","tags":["homelab","hardware","virtualization","macos","windows","proxmox"],"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAw0lEQVR42mPw3rcaC9q72guMgGyfg+t89q/BqowBq6jv0fV+J9YHnNjgfWCN29b5nruXe2PTz4Bpp/fBNXbdHSalzfo1rebdLea1i8zbOn0OriZKs8+RtfppudJWSaLWUcaNJUal5XazJvgcWue9dxVxmlNzpS2TRW1j9IpzrLoXW/X3+RxYTayzHSZ0mdW0GjZ1OSycqp9ea9nb5XNorfde4gLM5/A6oP2+R9YCXeu5YyHY2jXEhjbUCRCr9mOxE6IZAAoJA4GXp7oDAAAAAElFTkSuQmCC"},"backgroundColor":"transparent","images":{"fallback":{"src":"/static/1fcc3e93b204e204b50432ada4837733/6fc77/macos-windows-proxmox.png","srcSet":"/static/1fcc3e93b204e204b50432ada4837733/85ced/macos-windows-proxmox.png 800w,\n/static/1fcc3e93b204e204b50432ada4837733/7c498/macos-windows-proxmox.png 1080w,\n/static/1fcc3e93b204e204b50432ada4837733/6fc77/macos-windows-proxmox.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/1fcc3e93b204e204b50432ada4837733/28281/macos-windows-proxmox.webp 800w,\n/static/1fcc3e93b204e204b50432ada4837733/0b5d5/macos-windows-proxmox.webp 1080w,\n/static/1fcc3e93b204e204b50432ada4837733/a020d/macos-windows-proxmox.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":500}}}}},"comments":{"edges":[{"node":{"id":"b17566e7-f7c8-577b-ad66-36e51fee0a33","slug":"macos-windows-proxmox-update","name":"Mike","date":"29 July, 2022 at 12:07 PM","message":"Hi there, thanks for sharing. Was there any additional configuration necessary to get the MOTU audio interface working on the host from a Windows guest? \nI saw in your original post you added a few lines to the blacklist.conf, but that doesn't seem to do the trick for me. \nCurrently I have the device passed through and am able to see it from the guest-OS, but no sound...\n\nThanks, Mike"}},{"node":{"id":"ebd7d80e-d70d-548e-99e8-a0f38c942b20","slug":"macos-windows-proxmox-update","name":"Zane","date":"01 August, 2022 at 4:08 AM","message":"Hey Mike,\n\nI believe the only thing I did for the Windows guest was to install the MOTU drivers. I don't believe any other configuration is required."}}]}},"pageContext":{"slug":"macos-windows-proxmox-update"}},"staticQueryHashes":["3649515864","983108779"],"slicesMap":{}}